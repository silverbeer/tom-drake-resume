{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Tom Drake Resume Schema",
  "description": "JSON schema for the AI-powered DevOps resume system",
  "type": "object",
  "required": ["version", "personal_info", "professional_summary", "experience", "skills", "education"],
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version of the resume data"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of last update"
    },
    "personal_info": {
      "type": "object",
      "required": ["name", "title", "email", "location"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 2,
          "maxLength": 100
        },
        "title": {
          "type": "string",
          "minLength": 5,
          "maxLength": 100,
          "description": "Current or target job title"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "pattern": "^[0-9\\-\\+\\(\\)\\s]{7,20}$",
          "description": "Phone number in international or local format (digits, spaces, dashes, parentheses, plus sign)"
        },
        "location": {
          "type": "object",
          "required": ["city", "state", "country"],
          "properties": {
            "city": {"type": "string", "minLength": 2},
            "state": {"type": "string", "minLength": 2},
            "country": {"type": "string", "minLength": 2},
            "remote_friendly": {"type": "boolean", "default": true}
          }
        },
        "links": {
          "type": "object",
          "properties": {
            "linkedin": {"type": "string", "format": "uri"},
            "github": {"type": "string", "format": "uri"},
            "website": {"type": "string", "format": "uri"},
            "blog": {"type": "string", "format": "uri"},
            "twitter": {"type": "string", "format": "uri"}
          }
        }
      }
    },
    "professional_summary": {
      "type": "object",
      "required": ["headline", "overview"],
      "properties": {
        "headline": {
          "type": "string",
          "minLength": 10,
          "maxLength": 200,
          "description": "Compelling one-line summary"
        },
        "overview": {
          "type": "string",
          "minLength": 100,
          "maxLength": 1000,
          "description": "Detailed professional overview paragraph"
        },
        "key_strengths": {
          "type": "array",
          "items": {"type": "string", "minLength": 5, "maxLength": 100},
          "minItems": 3,
          "maxItems": 8,
          "description": "Core competencies and strengths"
        },
        "years_experience": {
          "type": "integer",
          "minimum": 0,
          "maximum": 50
        },
        "ai_enhanced": {
          "type": "boolean",
          "default": false,
          "description": "Whether content was enhanced by AI"
        }
      }
    },
    "experience": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["company", "role", "start_date", "achievements"],
        "properties": {
          "company": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100
          },
          "role": {
            "type": "string",
            "minLength": 5,
            "maxLength": 100
          },
          "start_date": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$",
            "description": "YYYY-MM format"
          },
          "end_date": {
            "type": ["string", "null"],
            "pattern": "^\\d{4}-\\d{2}$",
            "description": "YYYY-MM format, null for current position"
          },
          "location": {
            "type": "string",
            "maxLength": 100
          },
          "company_description": {
            "type": "string",
            "maxLength": 200,
            "description": "Brief company overview"
          },
          "achievements": {
            "type": "array",
            "minItems": 1,
            "maxItems": 12,
            "items": {
              "type": "object",
              "required": ["description"],
              "properties": {
                "description": {
                  "type": "string",
                  "minLength": 20,
                  "maxLength": 300
                },
                "impact": {
                  "type": "string",
                  "enum": ["high", "medium", "low"],
                  "default": "medium"
                },
                "metrics": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "value": {"type": ["string", "number"]},
                      "unit": {"type": "string"},
                      "improvement": {"type": "boolean", "default": true}
                    }
                  }
                },
                "technologies": {
                  "type": "array",
                  "items": {"type": "string"}
                },
                "ai_enhanced": {
                  "type": "boolean",
                  "default": false
                }
              }
            }
          }
        }
      }
    },
    "skills": {
      "type": "object",
      "required": ["categories"],
      "properties": {
        "categories": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z_][a-zA-Z0-9_\\s]*$": {
              "type": "object",
              "required": ["skills"],
              "properties": {
                "display_name": {"type": "string"},
                "priority": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 10,
                  "default": 5
                },
                "skills": {
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "type": "object",
                    "required": ["name", "proficiency"],
                    "properties": {
                      "name": {
                        "type": "string",
                        "minLength": 2,
                        "maxLength": 50
                      },
                      "proficiency": {
                        "type": "string",
                        "enum": ["expert", "advanced", "intermediate", "beginner"]
                      },
                      "years_experience": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 30
                      },
                      "certifications": {
                        "type": "array",
                        "items": {"type": "string"}
                      },
                      "last_used": {
                        "type": "string",
                        "pattern": "^\\d{4}$",
                        "description": "Year last used professionally"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": {
          "type": "string",
          "maxLength": 500,
          "description": "AI-generated skills summary"
        }
      }
    },
    "education": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["institution", "degree", "graduation_date"],
        "properties": {
          "institution": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100
          },
          "degree": {
            "type": "string",
            "minLength": 5,
            "maxLength": 100
          },
          "field_of_study": {
            "type": "string",
            "maxLength": 100
          },
          "graduation_date": {
            "type": "string",
            "pattern": "^\\d{4}$",
            "description": "Graduation year"
          },
          "gpa": {
            "type": "number",
            "minimum": 0.0,
            "maximum": 4.0
          },
          "honors": {
            "type": "array",
            "items": {"type": "string"}
          },
          "relevant_coursework": {
            "type": "array",
            "items": {"type": "string"}
          }
        }
      }
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "issuer", "date_earned"],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 5,
            "maxLength": 100
          },
          "issuer": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100
          },
          "date_earned": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "expiration_date": {
            "type": ["string", "null"],
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "credential_id": {
            "type": "string"
          },
          "verification_url": {
            "type": "string",
            "format": "uri"
          },
          "priority": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "default": 5
          }
        }
      }
    },
    "projects": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "description", "technologies"],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "minLength": 50,
            "maxLength": 500
          },
          "technologies": {
            "type": "array",
            "items": {"type": "string"},
            "minItems": 1
          },
          "url": {
            "type": "string",
            "format": "uri"
          },
          "github_url": {
            "type": "string",
            "format": "uri"
          },
          "start_date": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "end_date": {
            "type": ["string", "null"],
            "pattern": "^\\d{4}-\\d{2}$"
          },
          "status": {
            "type": "string",
            "enum": ["completed", "in_progress", "maintenance", "archived"]
          },
          "highlights": {
            "type": "array",
            "items": {"type": "string"}
          },
          "ai_enhanced": {
            "type": "boolean",
            "default": false
          }
        }
      }
    },
    "awards": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["title", "issuer", "date"],
        "properties": {
          "title": {"type": "string"},
          "issuer": {"type": "string"},
          "date": {"type": "string", "pattern": "^\\d{4}-\\d{2}$"},
          "description": {"type": "string"}
        }
      }
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["title", "publication", "date"],
        "properties": {
          "title": {"type": "string"},
          "publication": {"type": "string"},
          "date": {"type": "string", "pattern": "^\\d{4}-\\d{2}$"},
          "url": {"type": "string", "format": "uri"},
          "co_authors": {
            "type": "array",
            "items": {"type": "string"}
          }
        }
      }
    },
    "languages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["language", "proficiency"],
        "properties": {
          "language": {"type": "string"},
          "proficiency": {
            "type": "string",
            "enum": ["native", "fluent", "conversational", "basic"]
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "created_date": {
          "type": "string",
          "format": "date-time"
        },
        "ai_enhancements": {
          "type": "object",
          "properties": {
            "total_enhanced_fields": {"type": "integer", "minimum": 0},
            "enhancement_date": {"type": "string", "format": "date-time"},
            "ai_model_version": {"type": "string"},
            "enhancement_notes": {"type": "string"}
          }
        },
        "build_info": {
          "type": "object",
          "properties": {
            "build_number": {"type": "integer"},
            "commit_hash": {"type": "string"},
            "build_date": {"type": "string", "format": "date-time"}
          }
        },
        "analytics": {
          "type": "object",
          "properties": {
            "keywords_density": {"type": "object"},
            "ats_score": {"type": "number", "minimum": 0, "maximum": 100},
            "readability_score": {"type": "number", "minimum": 0, "maximum": 100}
          }
        }
      }
    }
  }
}